(()=>{"use strict";const e=window.React,t=window.wp.blocks,l=window.wp.blockEditor,o=window.wp.primitives,a=(0,e.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(o.Path,{d:"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z",fillRule:"evenodd",clipRule:"evenodd"})),r=window.wp.hooks,i=window.wp.compose,c=window.wp.components,n=window.wp.element,s=window.wp.data,d=window.wp.i18n,p=JSON.parse('{"apiVersion":3,"name":"stretchypants/grid-gallery","title":"SP Grid Gallery","description":"A lightweight and flexible grid gallery block.","category":"media","keywords":["gallery","grid","images","video"],"textdomain":"stretchy-pants-grid-gallery","supports":{"align":["wide","full"],"html":false},"editorScript":"file:../build/index.js","editorStyle":"file:../build/editor.css","viewStyle":"file:../build/frontend.css","viewScript":"file:../build/frontend.js"}');(0,t.registerBlockType)("stretchypants/grid-gallery",{...p,icon:a,edit:()=>{const t=(0,l.useBlockProps)(),o=window.spGridGalleryVars?.pluginUrl.replace(/\/?$/,"/"),a=(0,l.useInnerBlocksProps)(t,{allowedBlocks:["core/image","core/video"],template:[["core/video",{src:`${o}assets/placeholder.mp4`,autoplay:!0,controls:!1,loop:!0,muted:!0,playsInline:!0}],["core/image",{url:`${o}assets/placeholder.jpg`,alt:"Placeholder image"}],["core/image",{url:`${o}assets/placeholder.jpg`,alt:"Placeholder image"}],["core/image",{url:`${o}assets/placeholder.jpg`,alt:"Placeholder image"}],["core/image",{url:`${o}assets/placeholder.jpg`,alt:"Placeholder image"}],["core/image",{url:`${o}assets/placeholder.jpg`,alt:"Placeholder image"}],["core/image",{url:`${o}assets/placeholder.jpg`,alt:"Placeholder image"}],["core/image",{url:`${o}assets/placeholder.jpg`,alt:"Placeholder image"}]],templateLock:!1,max:6});return(0,e.createElement)("div",{...a})},save:()=>{const t=l.useBlockProps.save();return(0,e.createElement)("div",{...t},(0,e.createElement)(l.InnerBlocks.Content,null))}}),(0,r.addFilter)("blocks.registerBlockType","stretchypants/image-focal-point-attribute",((e,t)=>"core/image"!==t?e:{...e,attributes:{...e.attributes,focalPoint:{type:"object",default:{x:.5,y:.5}}}})),(0,r.addFilter)("editor.BlockEdit","stretchypants/with-focal-point-picker",(0,i.createHigherOrderComponent)((t=>o=>{if("core/image"!==o.name)return(0,e.createElement)(t,{...o});const{getBlockParents:a,getBlockName:r}=(0,s.useSelect)((e=>({getBlockParents:e("core/block-editor").getBlockParents,getBlockName:e("core/block-editor").getBlockName})),[]);if(!(o.clientId?a(o.clientId):[]).some((e=>"stretchypants/grid-gallery"===r(e))))return(0,e.createElement)(t,{...o});const[i,p]=(0,n.useState)({x:o.attributes.focalPoint?.x||.5,y:o.attributes.focalPoint?.y||.5}),g=e=>{p(e),o.setAttributes({focalPoint:e})},m=o.attributes?.url||o.attributes?.src;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...o}),(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)("div",{style:{padding:"0 16px 16px"}},m&&(0,e.createElement)(c.FocalPointPicker,{__nextHasNoMarginBottom:!0,label:(0,d.__)("Focal Point"),url:m,value:i,onDragStart:g,onDrag:g,onChange:g}))))}),"withFocalPointPicker")),(0,r.addFilter)("blocks.getSaveElement","stretchypants/apply-focal-point",((e,t,l)=>"core/image"!==t.name||!l?.focalPoint||.5===l.focalPoint.x&&.5===l.focalPoint.y?e:(0,n.cloneElement)(e,{...e.props,style:{"--object-position":`${100*l.focalPoint.x}% ${100*l.focalPoint.y}%`}}))),(0,r.addFilter)("editor.BlockListBlock","stretchypants/with-focal-point-styles",(0,i.createHigherOrderComponent)((t=>l=>{if("core/image"!==l.name)return(0,e.createElement)(t,{...l});if(!l.attributes?.focalPoint||.5===l.attributes.focalPoint.x&&.5===l.attributes.focalPoint.y)return(0,e.createElement)(t,{...l});const o={"--object-position":`${100*l.attributes.focalPoint.x}% ${100*l.attributes.focalPoint.y}%`};return(0,e.createElement)(t,{...l,wrapperProps:{style:o}})}),"withFocalPointStyles"))})();