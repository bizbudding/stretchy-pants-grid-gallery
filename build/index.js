(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React;var o=e.n(t);const r=window.wp.blocks,i=window.wp.blockEditor,l=window.wp.primitives,a=(0,t.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(l.Path,{d:"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z",fillRule:"evenodd",clipRule:"evenodd"})),n=window.wp.hooks,c=window.wp.compose,s=window.wp.components,d=window.wp.element,p=window.wp.data,m=window.wp.i18n,g=JSON.parse('{"apiVersion":3,"name":"stretchypants/grid-gallery","title":"SP Grid Gallery","description":"A lightweight and flexible grid gallery block.","category":"media","keywords":["gallery","grid","images","video"],"textdomain":"stretchy-pants-grid-gallery","version":"0.1.0","supports":{"align":["wide","full"],"html":false},"editorScript":"file:../build/index.js","editorStyle":"file:../build/editor.css","viewStyle":"file:../build/frontend.css","viewScript":"file:../build/frontend.js"}');(0,r.registerBlockType)("stretchypants/grid-gallery",{...g,icon:a,edit:({clientId:e})=>{const o=(0,i.useBlockProps)(),r=(0,i.useInnerBlocksProps)(o,{allowedBlocks:["core/image","core/video"],template:[["core/video"],["core/image"],["core/image"],["core/image"],["core/image"],["core/image"]],templateLock:!1,max:6});return(0,t.createElement)("div",{...r})},save:()=>{const e=i.useBlockProps.save();return(0,t.createElement)("div",{...e},(0,t.createElement)(i.InnerBlocks.Content,null))}}),(0,n.addFilter)("blocks.registerBlockType","stretchypants/image-focal-point-attribute",((e,t)=>"core/image"!==t?e:{...e,attributes:{...e.attributes,focalPoint:{type:"object",default:{x:.5,y:.5}}}})),(0,n.addFilter)("editor.BlockEdit","stretchypants/with-focal-point-picker",(0,c.createHigherOrderComponent)((e=>o=>{if("core/image"!==o.name)return(0,t.createElement)(e,{...o});const{getBlockParents:r,getBlockName:l}=(0,p.useSelect)((e=>({getBlockParents:e("core/block-editor").getBlockParents,getBlockName:e("core/block-editor").getBlockName})),[]),a=(o.clientId?r(o.clientId):[])[0];if(!a||"stretchypants/grid-gallery"!==l(a))return(0,t.createElement)(e,{...o});const[n,c]=(0,d.useState)({x:o.attributes.focalPoint?.x||.5,y:o.attributes.focalPoint?.y||.5}),g=e=>{c(e),o.setAttributes({focalPoint:e})},u=o.attributes?.url||o.attributes?.src;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,{...o}),(0,t.createElement)(i.InspectorControls,{group:"styles"},(0,t.createElement)(s.PanelBody,{title:(0,m.__)("Focal Point Picker"),initialOpen:!0},u&&(0,t.createElement)(s.FocalPointPicker,{__nextHasNoMarginBottom:!0,url:u,value:n,onDragStart:g,onDrag:g,onChange:g}))))}),"withFocalPointPicker")),(0,n.addFilter)("blocks.getSaveElement","stretchypants/apply-focal-point",((e,t,r)=>"core/image"!==t.name||!r?.focalPoint||.5===r.focalPoint.x&&.5===r.focalPoint.y?e:o().cloneElement(e,{...e.props,style:{"--object-position":`${100*r.focalPoint.x}% ${100*r.focalPoint.y}%`}}))),(0,n.addFilter)("editor.BlockListBlock","stretchypants/with-focal-point-styles",(0,c.createHigherOrderComponent)((e=>o=>{if("core/image"!==o.name)return(0,t.createElement)(e,{...o});if(!o.attributes?.focalPoint||.5===o.attributes.focalPoint.x&&.5===o.attributes.focalPoint.y)return(0,t.createElement)(e,{...o});const r={"--object-position":`${100*o.attributes.focalPoint.x}% ${100*o.attributes.focalPoint.y}%`};return(0,t.createElement)(e,{...o,wrapperProps:{style:r}})}),"withFocalPointStyles"))})();